<!DOCTYPE html>
<html lang="en">
  <head>
    <%-include("./partials/header.ejs") %>
  </head>
  <body>
    <%-include("./partials/nav.ejs") %>
     
    <div class="container">
      <div class="row">
      <table class="table table-bordered border-primary">
        <thead>
          <tr>
            <th scope="col"></th>
            <th scope="col">First</th>
            <th scope="col">Last</th>
            <th scope="col">Handle</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">1</th>
            <td>Mark</td>
            <td>Otto</td>
            <td>@mdo</td>
          </tr>
          <tr>
            <th scope="row">2</th>
            <td>Jacob</td>
            <td>Thornton</td>
            <td>@fat</td>
          </tr>
          <tr>
            <th scope="row">3</th>
            <td colspan="2">Larry the Bird</td>
            <td>@twitter</td>
          </tr>
        </tbody>
      </table>
      <button id="btnRepos" style="color: brown;">Github Projeni Gormek Icin Tikla</button>
      <div id="divResult"></div>
    </div>
    </div>
    <%-include("./partials/footer.ejs") %>
  </body>
  <script>
    const btnRepos  = document.getElementById('btnRepos');
    const divResult = document.getElementById('divResult');
    btnRepos.addEventListener('click',getRepos);
    
    async function getRepos(){
      const url = "https://api.github.com/users/ckymn/repos/octocat/Betgame";
      const response = await fetch(url);
      const result = await response.json();
      console.log(result)
      result.forEach(i => {
        const etiket = document.createElement("a");
        etiket.href= i.html_url;
        etiket.textContent = i.name;
        divResult.appendChild(etiket);
        divResult.appendChild(document.createElement("br"));
      })      
    }
    /* async function search(lowLimit, heightLimit){
      const url = `https://api.github.com/search/repositories?q=stars:>${lowLimit}..${heightLimit}`;
      const response = await fetch(url);
      const result = await response.json();

      console.log(result);
    } */
  </script>
</html>
